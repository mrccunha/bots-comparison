name: Gerar Comparação de Bots

on:
  push:
    branches:
      - homolog  # Rodar o workflow ao fazer push na branch homolog

jobs:
  compare-bots:
    runs-on: ubuntu-latest

    steps:
    # Checkout do código
    - name: Check out the code
      uses: actions/checkout@v4
      with:
        ref: homolog  # Checkout da branch homolog

    # Instalar Node.js
    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'

    # Instalar dependências do projeto (se houver)
    - name: Install dependencies
      run: npm install

    # Executar o script de comparação
    - name: Run bot comparison script
      run: node compareBots.js

    # Listar arquivos no diretório para garantir que o arquivo foi gerado
    - name: List files after comparison
      run: ls -la bots/comparisons
